<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Join Us</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="css/style.css">
  <script src="https://kit.fontawesome.com/a076d05399.js"></script>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <!-- 图标 -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
    integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
    integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
    crossorigin="anonymous"></script>
  <!-- 图标 -->
  <link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
    integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
</head>
<style type="text/css">
  ::-webkit-scrollbar:horizontal {
    display: none;
  }

  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
    background-color: #fff;
  }

  ::-webkit-scrollbar-thumb {
    background-color: #fff;
  }

  ::-webkit-scrollbar-track {

    background-color: #f8fafd;
  }
</style>

<body onload="onloadAll1()">
  <div class="container-fluid p-0">
    <div class="row m-0 p-0">

      <div class="col-2 pl-0 p-0" style="height: 100vh;">
        <div style="position: fixed;width: 220px;">
          <p class="text-center font-weight-bold mt-3 mb-4" style="font-size: 120%">网上农博会</p>
          <div onclick="showAdd_food()" id="add_food3" class="add_produre mt-3"
            style="width: 80%;background: #ff6f47;margin: auto;border-radius: 10px;padding: 12px;">
            <p class="mb-0 text-white">添加新产品&nbsp&nbsp<i class="fa fa-plus" aria-hidden="true"></i></p>
          </div>
          <div class="add_produre mt-4" style="width: 85%;margin: auto;border-radius: 10px;display: flex;">
            <!-- <div class="icon_bar" style="width: 16%;padding: 7px;">
              <img src="image/Group 261.svg">
            </div> -->
            <style type="text/css">

            </style>
            <script type="text/javascript">
              $(document).ready(function () {
                $('#add_food3').click(function () {
                  $('#management_food').css('font-weight', 'bold');
                  $('#dashboard_text').css('font-weight', '400');
                  $('#management_order').css('font-weight', '400');
                  $('#management_user').css('font-weight', '400');

                  $('#management_food_box').css('display', 'block');
                  $('#dashboard_box').css('display', 'none');
                  $('#management_food_order').css('display', 'none');
                  $('#management_user_box').css('display', 'none');

                });
              });

              $(document).ready(function () {
                $('#management_food').click(function () {
                  $('#management_food').css('font-weight', 'bold');
                  $('#dashboard_text').css('font-weight', '400');
                  $('#management_order').css('font-weight', '400');
                  $('#management_user').css('font-weight', '400');

                  $('#management_food_box').css('display', 'block');
                  $('#dashboard_box').css('display', 'none');
                  $('#management_food_order').css('display', 'none');
                  $('#management_user_box').css('display', 'none');

                });
              });
              $(document).ready(function () {
                $('#dashboard_text').click(function () {
                  $('#dashboard_text').css('font-weight', 'bold');
                  $('#management_order').css('font-weight', '400');
                  $('#management_user').css('font-weight', '400');
                  $('#management_food').css('font-weight', '400');

                  $('#management_food_box').css('display', 'none');
                  $('#dashboard_box').css('display', 'block');
                  $('#management_food_order').css('display', 'none');
                  $('#management_user_box').css('display', 'none');
                });
              });
              $(document).ready(function () {
                $('#management_order').click(function () {
                  $('#management_order').css('font-weight', 'bold');
                  $('#management_user').css('font-weight', '400');
                  $('#management_food').css('font-weight', '400');
                  $('#dashboard_text').css('font-weight', '400');

                  $('#management_food_box').css('display', 'none');
                  $('#dashboard_box').css('display', 'none');
                  $('#management_food_order').css('display', 'block');
                  $('#management_user_box').css('display', 'none');
                });
              });
              $(document).ready(function () {
                $('#management_user').click(function () {
                  $('#management_user').css('font-weight', 'bold');
                  $('#management_food').css('font-weight', '400');
                  $('#dashboard_text').css('font-weight', '400');
                  $('#management_order').css('font-weight', '400');

                  $('#management_food_box').css('display', 'none');
                  $('#dashboard_box').css('display', 'none');
                  $('#management_food_order').css('display', 'none');
                  $('#management_user_box').css('display', 'block');
                });
              });
            </script>
            <!-- 页面概述 TODO -->
            <!-- <div class="text_bar p-2 pr-0">
              <p id="dashboard_text" class="mb-0" style="font-weight: bold;">页面概述</p>
            </div> -->
          </div>

          <div class="add_produre mt-2" style="width: 85%;margin: auto;border-radius: 10px;display: flex;">
            <div class="icon_bar" style="width: 16%;padding: 7px;">
              <img src="image/ic_settings_24px.svg">
            </div>
            <div class="text_bar p-2 pr-0" style="width: 80%;">
              <p id="management_food" class="mb-0">产品管理</p>
            </div>
          </div>

          <!-- 订单管理 -->
          <!-- <div class="add_produre mt-2" style="width: 85%;margin: auto;border-radius: 10px;display: flex;">
            <div class="icon_bar" style="width: 16%;padding: 7px;">
              <img src="image/ic_shopping_cart_24px.svg">
            </div>
            <div class="text_bar p-2 pr-0" style="width: 80%;">
              <p id="management_order" class="mb-0">Quản lý đơn mua</p>
            </div>
          </div> -->

          <div class="add_produre mt-2" style="width: 85%;margin: auto;border-radius: 10px;display: flex;">
            <div class="icon_bar" style="width: 16%;padding: 7px;">
              <img src="image/ic_account_box_24px.svg">
            </div>
            <div class="text_bar p-2 pr-0" style="width: 80%;">
              <p id="management_user" class="mb-0">用户管理</p>
            </div>
          </div>
        </div>

      </div>
      <div class="col-10  p-0">
        <div class="row m-0 p-0 ">
          <div class="col-12 bg-white" style="height: 70px;">

          </div>
          <div id="dashboard_box" class="col-12 bg-white mt-1" style="height: 570px;">
            <p class="font-weight-bold" style="font-size: 130%">农博会概况</p>
            <div id="input_food" style="display: none;">

            </div>

            <div class="row m-0">
              <!-- 产品数量 -->
              <div class="col-xs-12 col-sm-6 col-md-3 p-3">
                <div class="ana_food pt-2 pb-0 pl-4 pr-3 shadow-sm" style="background: #fff;">
                  <p style="font-size: 110%" class="float-left mt-1">产品</p>
                  <p id="dem_food" style="font-size: 200%;font-weight: bold;" class="float-right mt-4 mb-2"></p>
                  <div style="clear: both;"></div>
                </div>
              </div>
              <!-- 用户数量 -->
              <div class="col-xs-12 col-sm-6 col-md-3 p-3">
                <div class="ana_food pt-2 pb-0 pl-4 pr-3 shadow-sm" style="background: #fff;">
                  <p style="font-size: 110%" class="float-left mt-1">用户</p>
                  <p id="dem_cus" style="font-size: 200%;font-weight: bold;" class="float-right mt-4 mb-2"></p>
                  <div style="clear: both;"></div>
                </div>
              </div>
              <!-- 订单 -->
              <!-- <div class="col-xs-12 col-sm-6 col-md-3 p-3">
                <div class="ana_food pt-2 pb-0 pl-4 pr-3 shadow-sm" style="background: #fff;">
                  <p style="font-size: 110%" class="float-left mt-1">订单</p>
                  <p id="dem_payment" style="font-size: 200%;font-weight: bold;" class="float-right mt-4 mb-2"></p>
                  <div style="clear: both;"></div>
                </div>
              </div> -->

            </div>
            <div class="row m-0">
              <!-- 概况箱子 -->
              <div class="col-6 p-3">
                <div class="payment_food_dash pt-2 pb-0 pl-4 pr-3 shadow-sm" style="height: 300px;background: #fff">
                  <p style="font-size: 110%" class=" mt-1">农博会概况</p>
                  <div id="scroll_height" data-spy="scroll" data-target="#myScrollspy" data-offset="10"
                    style="height:220px;overflow-y: scroll;padding-right: 10px;">
                    <table class="table table-borderless" style="margin-top: -25px;">
                      <thead>
                        <tr>
                          <th scope="col" style="width: 80%;font-size: 115%;"></th>
                          <p>欢迎加入网上农博会！网上农博会是节奏律动旗下，以数据和技术驱动的新零售平台。农博会希望为消费者打造新零售体验中心，助推地方农业经济发展，用优质价格和人情味带给人们“鲜美生活”。
                          </p>

                        </tr>
                      </thead>

                      <tbody id="prinfPaymentDash">


                      </tbody>

                    </table>
                  </div>

                </div>
              </div>
              <!-- 小窗产品列表 -->
              <div class="col-6 p-3">
                <div class="payment_food_dash pt-2 pb-0 pl-4 pr-3 shadow-sm" style="height: 300px;background: #fff">
                  <p style="font-size: 110%" class=" mt-1">产品</p>
                  <div id="scroll_height2" data-spy="scroll" data-target="#myScrollspy" data-offset="10"
                    style="height:220px;overflow-y: scroll;padding-top: 5px;padding-right: 10px;">
                    <table class="table table-borderless" style="margin-top: -25px;">
                      <thead>
                        <tr>

                          <th scope="col" style="width: 60%;font-size: 115%;"></th>

                          <th scope="col" style="width: 40%;font-size: 115%;" class="text-center"></th>

                        </tr>
                      </thead>

                      <tbody id="prinfManagementFood2">


                      </tbody>

                    </table>
                  </div>
                </div>
              </div>


            </div>


          </div>











          <!-- 订单 -->
          <!-- <div id="management_food_order" class="col-12" style="display: none;">
            <p class="font-weight-bold" style="font-size: 130%">订单</p>
            <div class="shadow-sm pt-2" style="width: 100%;height: 530px;background: #fff;">
              <div id="scroll_height" data-spy="scroll" data-target="#myScrollspy" data-offset="10"
                style="height:480px;overflow-y: scroll;padding-top: 5px;padding-right: 10px;">
                <div class="cart_box pl-5 pt-0 pb-4 pr-4" style="width: 100%;margin: auto;">
                  <table class="table table-borderless">
                    <thead>
                      <tr>
                        <th scope="col" style="width: 20%;font-size: 115%;">Tên khách hàng</th>
                        <th scope="col" style="width: 44%;font-size: 115%;" class="text-center">Món ăn</th>
                        <th scope="col" style="width: 18%;font-size: 115%;" class="text-center">Tổng tiền</th>
                        <th scope="col" style="width: 18%;font-size: 115%;" class="text-center">Trạng thái</th>
                      </tr>
                    </thead>

                    <tbody id="prinfPayment">


                    </tbody>

                  </table>
                </div>
              </div>
            </div>
          </div> -->










          <div id="management_user_box" class="col-12 bg-white mt-1" style="height: 570px;display: none;">
            <p class="font-weight-bold" style="font-size: 130%">用户管理</p>
            <button onclick="showAddUser()" class="btn btn-primary">添加用户</button>
            <div id="input_user" style="display: none;">
              <div class="row m-0 shadow-sm pt-3">
                <div class="col-3">
                  <!-- 用户名 -->
                  <div class="form-group">
                    <label for="exampleInputEmail1">用户名</label>
                    <input type="text" class="form-control" id="userNameAddInput" placeholder="请输入用户名">
                    <input class="float-right" type="text" id="txtId" name="txtPrice"
                      style="border:0; border-radius: 10px;height: 40px;background:#f8fafd;width:100%;outline: none;display: none;">
                  </div>
                </div>
                <div class="col-3" style="height: 100px;">
                  <!-- 密码 -->
                  <div class="form-group">
                    <label for="exampleInputEmail1">密码</label>
                    <input type="email" class="form-control" id="passwordAddInput" placeholder="请输入密码">
                  </div>
                </div>
                <div class="col-3" style="height: 100px;">
                  <div class="form-group">
                    <label for="exampleInputEmail1">重复密码</label>
                    <input type="passwork" class="form-control" id="rePasswordAddInput" placeholder="请再次输入密码">
                  </div>
                </div>

                <div class="col-8 p-0  pl-3 pb-4">
                  <button id="addUser" onclick="AddUser()" class="btn btn-primary float-left"
                    style="background: #ff6f47;border: 1px solid #ff6f47;">添加</button>
                  <button id="updateUser" onclick="SaveUserAdmin()" class="btn btn-warning text-white float-left"
                    style="display: none;">更新保存</button>
                  <button onclick="CloseUser()" class="btn btn-danger text-white ml-1">关闭</button>
                </div>

              </div>
            </div>




            <div id="input_change_user" style="display: none;">
              <div class="row m-0 shadow-sm pt-3">
                <div class="col-3">
                  <div class="form-group">
                    <label for="exampleInputEmail1">用户名</label>
                    <input type="text" class="form-control" id="userNameChangeInput" placeholder="请输入用户名>
                    <input class=" float-right" type="text" id="txtId" name="txtPrice"
                      style="border:0; border-radius: 10px;height: 40px;background:#f8fafd;width:100%;outline: none;display: none;">
                  </div>
                </div>
                <div class="col-3" style="height: 100px;">
                  <div class="form-group">
                    <label for="exampleInputEmail1">密码</label>
                    <input type="text" class="form-control" id="addressChangeInput" placeholder="请输入密码">
                  </div>
                </div>
                <div class="col-3" style="height: 100px;">
                  <div class="form-group">
                    <label for="exampleInputEmail1">重复密码</label>
                    <input type="text" class="form-control" id="phoneChangeInput" placeholder="请再次输入密码">
                  </div>
                </div>
                <!-- 银行 -->
                <!-- <div class="col-3" style="height: 100px;">
                  <div class="form-group">
                    <label for="exampleInputEmail1">银行</label>
                    <select class="form-control" id="bankChangeInput">
                      <option value="viettinbank">viettinbank</option>
                      <option value="dongabank">dongabank</option>
                      <option value="dongabank">namabank</option>
                      <option value="dongabank">Nhận hàng thanh toán</option>
                    </select>
                  </div>
                </div> -->

                <div class="col-8 p-0  pl-3 pb-4">
                  <button id="updateUser" onclick="SaveUserAdmin()" class="btn btn-warning text-white float-left">
                    更新
                  </button>
                  <button onclick="CloseUser()" class="btn btn-danger text-white ml-1">关闭</button>
                </div>

              </div>
            </div>




            <div class="cart_box pl-5 pt-4 shadow-sm mt-3 pb-4" style="width: 100%;margin: auto;">
              <div id="scroll_height" data-spy="scroll" data-target="#myScrollspy" data-offset="10"
                style="height:450px;overflow-y: scroll;padding-top: 5px;padding-right: 10px;">
                <table class="table table-borderless">
                  <thead>

                  </thead>

                  <tbody>
                    <div id="prinfManagementUser" class="row m-0">


                    </div>
                  </tbody>

                </table>
              </div>
            </div>


          </div>










          <div id="management_food_box" class="col-12 bg-white mt-1" style="height: 570px;display: none;">
            <p class="font-weight-bold" style="font-size: 130%">农产品管理</p>
            <div id="input_food2" style="display: none;">
              <div class="row m-0 shadow-sm pt-3">
                <div class="col-3">
                  <div class="form-group">
                    <label for="exampleInputEmail1">农产品名称</label>
                    <input type="text" class="form-control" id="foodAddNameInput" placeholder="请输入农产品名称">
                    <input class="float-right" type="text" id="txtId" name="txtPrice"
                      style="border:0; border-radius: 10px;height: 40px;background:#f8fafd;width:100%;outline: none;display: none;">
                  </div>
                </div>
                <div class="col-3">
                  <div class="form-group">
                    <label for="exampleInputEmail1">农产品介绍</label>
                    <input type="email" class="form-control" id="foodAddNoteInput" placeholder="介绍一下该农产品吧">
                  </div>
                </div>
                <div class="col-3">
                  <div class="form-group">
                    <label for="exampleInputEmail1">价格</label>
                    <input type="number" class="form-control" id="foodAddPriceInput" placeholder="请输入农产品定价">
                  </div>
                </div>
                <div class="col-3">
                  <div class="form-group">
                    <label for="exampleInputEmail1">产地</label>
                    <input type="select" class="form-control" id="foodAddLocationInput">
                      <select>
                        <!-- selected="selected" 打开页面处于选中状态 -->
                        <option value="河南">
                          河南
                        </option>
                        <option value="山东">
                          山东
                        </option>
                        <option value="广东">
                          广东
                        </option>
                        <option value="北京">
                          北京
                        </option>
                        <option value="成都">
                          成都
                        </option>
                        <option value="重庆">
                          重庆
                        </option>
                        <option value="青海">
                          青海
                        </option>
                        <option value="湖南">
                          湖南
                        </option>
                        <option value="陕西">
                          陕西
                        </option>
                        <option value="浙江">
                          浙江
                        </option>
                        <option value="安徽">
                          安徽
                        </option>
                        <option value="河北">
                          河北
                        </option>
                        <option value="山西">
                          山西
                        </option>
                        <option value="辽宁">
                          辽宁
                        </option>
                        <option value="吉林">
                          吉林
                        </option>
                        <option value="黑龙江">
                          黑龙江
                        </option>
                        <option value="江苏">
                          江苏
                        </option>
                        <option value="海南">
                          海南
                        </option>
                        <option value="台湾">
                          台湾
                        </option>
                        <option value="湖北">
                          湖北
                        </option>
                        <option value="四川">
                          四川
                        </option>
                        <option value="贵州">
                          贵州
                        </option>
                        <option value="云南">
                          云南
                        </option>
                        <option value="甘肃">
                          甘肃
                        </option>
                        <option value="江西">
                          江西
                        </option>
                        <option value="福建">
                          福建
                        </option>
                        <option value="北京">
                          北京
                        </option>
                        <option value="上海">
                          上海
                        </option>
                        <option value="天津">
                          天津
                        </option>
                        <option value="香港">
                          香港
                        </option>
                        <option value="澳门">
                          澳门
                        </option>
                        <option value="广西">
                          广西
                        </option>
                        <option value="西藏">
                          西藏
                        </option>
                        <option value="新疆">
                          新疆
                        </option>
                        <option value="内蒙古">
                          内蒙古
                        </option>
                        <option value="宁夏">
                          宁夏
                        </option>
                      </select>
                    </input>
                  </div>
                </div>
                <div class="col-3">
                  <div class="form-group">
                    <label>上市时间 :</label>
                    <input type="date">
                  </div>
                  <div class="col-3">
                    <div>
                      <label>宣传图片 :</label>
                      <a class="btn" style="margin-top: 1rem; display: inline-block; 
                      padding: 0.8rem 3rem;
                      background: #bac34e;
                      color: #fff;
                      font-size: 1.7rem;
                      cursor: pointer; 
                      width: 100px;
                      height: 50px;
                      font-size: 1rem;
                      "><input type="file" style="opacity: 0;">选择图片</input></a>
                      <!-- <input class="text-white"  type="file" name="file" id="foodAddImageInput"> -->
                    </div>
                  </div>
                  <div class="col-8 p-0  pl-3 pb-4">
                    <a id="addfood2" onclick="AddFood()" class="btn" style="margin-top: 1rem; display: inline-block; 
                      padding: 0.8rem 3rem;
                      background: #bac34e;
                      color: #fff;
                      font-size: 1.7rem;
                      cursor: pointer; ">添加</a>
                    <button id="updatefood2" onclick="SaveUpdateFood()" class="btn btn-warning text-white float-left"
                      style="display: none;">保存更新</button>
                    <a onclick="CloseFood()" class="btn">取消</a>
                  </div>

                </div>
              </div>

              <div class="cart_box pl-5 pt-4 shadow-sm mt-3 pb-4" style="width: 100%;margin: auto;">
                <div id="scroll_height2" data-spy="scroll" data-target="#myScrollspy" data-offset="10"
                  style="height:450px;overflow-y: scroll;padding-top: 5px;padding-right: 10px;">
                  <table class="table table-borderless">
                    <thead>
                      <tr>

                        <th scope="col" style="width: 40%;font-size: 115%;">名称</th>

                        <th scope="col" style="width: 20%;font-size: 115%;" class="text-center">价格</th>
                        <th scope="col" style="width: 20%;font-size: 115%;" class="text-center">操作</th>
                      </tr>
                    </thead>

                    <tbody id="prinfManagementFood">
                      <tr>
                        <td>
                          <div>
                            <div class="cart_img_box float-left bg-warning" style="width: 30%;height: 80px;">
                              <img src="image/foody-upload-api-foody-mobile-suon-10-jpg-181121104208.jpg" width="100%"
                                height="100%">
                            </div>
                            <div class="cart_info_box float-left pl-3" style="width: 70%;height: 80px;">
                              <p class="mb-1 font-weight-bold" style="font-size: 115%;">Đùi cừu nướng</p>
                              <p style="font-size: 85%">Đùi cừu nướng với hành và một số gia vị</p>
                            </div>
                          </div>
                        </td>

                        <td class="text-center">
                          <p class="mt-2" style="padding:5px;">90000</p>
                        </td>
                        <td class="text-center">'<div class="btn btn-danger text-white ml-2" onclick="DeleteFood(0)"
                            style="width: 16%;border-radius: 10px;"><i class="fa fa-trash" aria-hidden="true"></i></div>
                          <div class="btn btn-warning  text-white mr-2" onclick="UpdateFood(0)"
                            style="width: 16%;border-radius: 10px;"><i class="fa fa-pencil-square-o"
                              aria-hidden="true"></i></div>
                        </td>
                      </tr>

                    </tbody>

                  </table>
                </div>
              </div>


            </div>








          </div>
        </div>
      </div>
    </div>

</body>

<script type="text/javascript">

  function CloseFood() {
    document.getElementById('input_food2').style.display = 'none';
    document.getElementById('scroll_height2').style.height = '450px';

  }

  function showAdd_food() {
    document.getElementById('scroll_height2').style.height = '280px';
    document.getElementById('addfood2').style.display = 'block';
    document.getElementById('updatefood2').style.display = 'none';
    document.getElementById('input_food2').style.display = 'block';
    document.getElementById('foodAddNameInput').value = '';
    document.getElementById('foodAddNoteInput').value = '';
    document.getElementById('foodAddPriceInput').value = '';
    document.getElementById('foodAddImageInput').value = '';

  }

// localStorage 持久化存储
  var food = JSON.parse(localStorage.getItem('food'));
  document.getElementById("dem_food").innerHTML = food.length;


  var account = JSON.parse(localStorage.getItem('account'));
  document.getElementById("dem_cus").innerHTML = account.length;
  var paymentFood = JSON.parse(localStorage.getItem('paymentFood'));
  document.getElementById("dem_payment").innerHTML = paymentFood.length - 1;

  var commentCustomer = JSON.parse(localStorage.getItem('commentCustomer'));
  document.getElementById("dem_comment").innerHTML = commentCustomer.length - 1;





  // var paymentFood=[];

  var paymentFood = JSON.parse(localStorage.getItem('paymentFood'));
  if (paymentFood === null) {
    paymentFood = [];
    var paymentFood = [{}];
    localStorage.setItem("paymentFood", JSON.stringify(paymentFood));
    console.log(paymentfood);
  }
  var idupFood = JSON.parse(localStorage.getItem('idupFood'));
  if (idupFood === null) {
    idupFood = [];
    var idupFood = 8;
    localStorage.setItem("idupFood", JSON.stringify(idupFood));
  }
  function AddFood() {
    var id = idupFood;
    var name = document.getElementById('foodAddNameInput').value;
    var note = document.getElementById('foodAddNoteInput').value;
    var price = document.getElementById('foodAddPriceInput').value;
    var image2 = document.getElementById('foodAddImageInput').value;
    var image = "image/" + image2.split('\\')[2];
    if (name != '' && price != '' && note != '' && image2 != '') {

      var pushFood = { id, name, price, note, image };
      food.push(pushFood);
      localStorage.setItem("food", JSON.stringify(food));
      idupFood++;
      localStorage.setItem("idupFood", JSON.stringify(idupFood));
      ManagementFood();
      console.log(food);

      var name = document.getElementById('foodAddNameInput').value = '';
      var note = document.getElementById('foodAddNoteInput').value = '';
      var price = document.getElementById('foodAddPriceInput').value = '';
      var image = document.getElementById('foodAddImageInput').value = '';
    }
    else {
      alert("请输入完整信息");
    }
  }


  function DeleteFood(id) {
    for (var i = 0; i < food.length; i++) {
      if (id == food[i].id) {
        food.splice(i, 1);

        localStorage.setItem("food", JSON.stringify(food));
        ManagementFood();
      }

    }
  }

  function UpdateFood(id) {
    for (var i = 0; i < food.length; i++) {
      if (id == food[i].id) {
        document.getElementById('input_food2').style.display = 'block';
        document.getElementById("addfood2").style.display = 'none';
        document.getElementById("updatefood2").style.display = 'block';
        document.getElementById("txtId").value = food[i].id;
        document.getElementById("foodAddNameInput").value = food[i].name;
        document.getElementById("foodAddNoteInput").value = food[i].note;
        document.getElementById("foodAddPriceInput").value = food[i].price;
        document.getElementById("foodAddImageInput").value = food[i].image;
        break;
      }
    }
  }
  function SaveUpdateFood() {
    var idchange = document.getElementById("txtId").value;

    for (var i = 0; i < food.length; i++) {
      if (idchange == food[i].id) {
        food[i].name = document.getElementById("foodAddNameInput").value;
        food[i].price = document.getElementById("foodAddPriceInput").value;
        food[i].note = document.getElementById("foodAddNoteInput").value;
        var imageChange = document.getElementById('foodAddImageInput').value;
        localStorage.setItem("food", JSON.stringify(food));
        if (imageChange == '') {

        } else {
          var image1 = imageChange.split('\\')[2];
          food[i].image = image1;
        }

        if (food[i].type == 0 && imageChange != '') {

          food.splice(i, 1);
          localStorage.setItem("food", JSON.stringify(food));
          AddFood();
          ManagementFood();

        }
        ManagementFood();
        break;
      }
    }

    document.getElementById('foodAddNameInput').value = '';
    document.getElementById('foodAddNoteInput').value = '';
    document.getElementById('foodAddPriceInput').value = '';
    document.getElementById('foodAddImageInput').value = '';
    document.getElementById("addfood").style.display = 'block';
    document.getElementById("updatefood").style.display = 'none';
  }


  function ManagementFood() {
    document.getElementById("prinfManagementFood").innerHTML = '';
    var food = JSON.parse(localStorage.getItem('food'));
    for (let i = 0; i < food.length; i++) {
      var prinfManage = `<tr>
      <td><div>
        <div class="cart_img_box float-left bg-warning" style="width: 30%;height: 80px;">
          <img src="`+ food[i].image + `" width="100%" height="100%">
        </div>
        <div class="cart_info_box float-left pl-3" style="width: 70%;height: 80px;">
          <p class="mb-1 font-weight-bold" style="font-size: 115%;">`+ food[i].name + `</p>
          <p style="font-size: 85%">`+ food[i].note + `</p>
        </div>
      </div> </td>
      
      <td class="text-center"><p class="mt-2" style="padding:5px;">`+ food[i].price + `</p> </td>
      <td class="text-center">'<div class="btn btn-danger text-white ml-2" onclick="DeleteFood(`+ food[i].id + `)" style="width: 16%;border-radius: 10px;"><i class="fa fa-trash" aria-hidden="true"></i></div>
  <div class="btn btn-warning  text-white mr-2" onclick="UpdateFood(`+ food[i].id + `)" style="width: 16%;border-radius: 10px;"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></div> </td>
</tr>`;
      document.getElementById("prinfManagementFood").innerHTML += prinfManage;
    }
  }

  function ManagementFood2() {
    document.getElementById("prinfManagementFood2").innerHTML = '';
    var food = JSON.parse(localStorage.getItem('food'));
    for (let i = 0; i < food.length; i++) {
      var prinfManage = `<tr>
      <td><div>
        <div class="cart_img_box float-left bg-warning" style="width: 30%;height: 80px;">
          <img src="`+ food[i].image + `" width="100%" height="100%">
        </div>
        <div class="cart_info_box float-left pl-3" style="width: 70%;height: 80px;">
          <p class="mb-1 font-weight-bold" style="font-size: 115%;">`+ food[i].name + `</p>
          <p style="font-size: 85%">`+ food[i].note + `</p>
        </div>
      </div> </td>
      
      <td class="text-center"><p class="mt-2" style="padding:5px;">`+ food[i].price + `</p> </td>
    
</tr>`;
      document.getElementById("prinfManagementFood2").innerHTML += prinfManage;
    }
  }



  function paymentPrinf() {
    document.getElementById("prinfPayment").innerHTML = '';

    var paymentFood = JSON.parse(localStorage.getItem('paymentFood'));
    for (let i = 1; i < paymentFood.length; i++) {

      var prinf_payment_cart = `<tr style="border-bottom:1px solid #ccc;">
      <td>
      <p>收件人姓名: `+ paymentFood[i].name_customer + `</p>
      <p>地址: `+ paymentFood[i].address_customer + `</p>
      <p>电话号码: `+ paymentFood[i].phone_customer + `</p>
      <p>银行: `+ paymentFood[i].bank + `</p>
      </td>
      
      <td>`+ paymentFood[i].showDetailOrder + `<p id="commentPrinfPayment` + paymentFood[i].id_payment + `"></p></td>
      <td class="text-center">`+ paymentFood[i].priceTotal + `</td>
      <td class="text-center"><button id="status_prinf`+ paymentFood[i].id_payment + `" onclick="verify_payment(` + paymentFood[i].id_payment + `)" class="btn btn-warning text-white">` + paymentFood[i].status + `</button></td>
    </tr>
    `
      document.getElementById("prinfPayment").innerHTML += prinf_payment_cart;
    }

  }



  function paymentPrinfDash() {
    document.getElementById("prinfPaymentDash").innerHTML = '';

    var paymentFood = JSON.parse(localStorage.getItem('paymentFood'));
    for (let i = 1; i < paymentFood.length; i++) {

      var prinf_payment_cart = `<tr style="border-bottom:1px solid #ccc;">
      
      <td>`+ paymentFood[i].showDetailOrder + `</td>
 
     
    </tr>
    `
      document.getElementById("prinfPaymentDash").innerHTML += prinf_payment_cart;
    }

  }



  function verify_payment(id) {
    for (let i = 0; i < paymentFood.length; i++) {
      if (id == paymentFood[i].id_payment) {
        paymentFood[i].status = "正在支付";
        localStorage.setItem("paymentFood", JSON.stringify(paymentFood));
        document.getElementById("status_prinf" + id).innerHTML = paymentFood[i].status;
      }
    }
  }


  function commentPrinf() {
    document.getElementById("commentPrinf").innerHTML = '';

    var commentCustomer = JSON.parse(localStorage.getItem('commentCustomer'));
    var account = JSON.parse(localStorage.getItem('account'));
    for (let i = 1; i < commentCustomer.length; i++) {

      var prinf_comment = `<td>` + commentCustomer[i].idPayment + `</td>
    <td>`+ account[commentCustomer[i].idUser].username + `</td>
    <td>`+ commentCustomer[i].content_comment + `</td>
    ` ;
      document.getElementById("commentPrinfPayment" + commentCustomer[i].idPayment).innerHTML = "Phản hồi từ khách: " + commentCustomer[i].content_comment;
      document.getElementById("commentPrinf").innerHTML += prinf_comment;
    }

  }

















</script>
<script type="text/javascript">

  function CloseUser() {
    document.getElementById('input_user').style.display = 'none';
    document.getElementById('scroll_height').style.height = '450px';

  }

  function showAddUser() {
    document.getElementById('scroll_height').style.height = '280px';
    document.getElementById('addUser').style.display = 'block';
    document.getElementById('updateUser').style.display = 'none';
    document.getElementById('input_user').style.display = 'block';
    document.getElementById('input_change_user').style.display = 'none';
    document.getElementById('foodAddNameInput').value = '';
    document.getElementById('foodAddNoteInput').value = '';
    document.getElementById('foodAddPriceInput').value = '';
    document.getElementById('foodAddImageInput').value = '';
  }
  var account_info = [];
  // var account_info =JSON.parse(localStorage.getItem('account_info'));
  if (account_info === null) {
    account_info = [];
  }
  var account = [];
  var account = JSON.parse(localStorage.getItem('account'));
  if (account === null) {
    account = [];
  }
  var idChangeUser = 0;
  function editUserAdmin(id) {
    var account_info = JSON.parse(localStorage.getItem('account_info'));
    document.getElementById('input_user').style.display = 'none';
    document.getElementById('input_change_user').style.display = 'block';

    for (var i = 1; i < account_info.length; i++) {
      if (id == account_info[i].accountPayment) {
        idChangeUser = account_info[i].accountPayment;
        document.getElementById("txtId").value = i;
        document.getElementById("userNameChangeInput").value = account_info[i].name_customer;
        document.getElementById("addressChangeInput").value = account_info[i].address_customer;
        document.getElementById("phoneChangeInput").value = account_info[i].phone_customer;
        document.getElementById("bankChangeInput").value = account_info[i].bank;

        break;
      }
    }
  }

  function SaveUserAdmin() {
    var account_info = JSON.parse(localStorage.getItem('account_info'));
    for (var i = 0; i < account_info.length; i++) {
      if (idChangeUser == account_info[i].accountPayment) {
        account_info[i].name_customer = document.getElementById("userNameChangeInput").value;
        account_info[i].address_customer = document.getElementById("addressChangeInput").value;
        account_info[i].phone_customer = document.getElementById("phoneChangeInput").value;
        account_info[i].bank = document.getElementById("bankChangeInput").value;
        localStorage.setItem("account_info", JSON.stringify(account_info));

        ManagementUser();

        break;
      }
    }

    document.getElementById('userNameChangeInput').value = '';
    document.getElementById('addressChangeInput').value = '';
    document.getElementById('phoneChangeInput').value = '';
    document.getElementById('bankChangeInput').value = '';

  }






  var idup = JSON.parse(localStorage.getItem('idup'));
  function AddUser() {
    var checkUsername = 0;
    var id = idup;
    var username = document.getElementById('userNameAddInput').value;
    var password = document.getElementById('passwordAddInput').value;
    var repassword = document.getElementById('rePasswordAddInput').value;
    var level = 0;
    if (username != '' && password != '' && repassword != '' && password == repassword) {
      for (let i = 0; i < account.length; i++) {
        if (account[i].username == username) {
          alert("用户名已存在");

          checkUsername = 1;
          break;
        }

      }
      if (checkUsername == 0) {
        accountSignupAdmin = { id, username, password, level };
        account.push(accountSignupAdmin);
        localStorage.setItem("account", JSON.stringify(account));
        idup++;
        localStorage.setItem("idup", JSON.stringify(idup));
        console.log(account);
        // alert("dang ky thanh cong");
        ManagementUser();
      }
    } else {
      // alert("chua thanh cong")
    }
  }

  function deleteUserAdmin(id) {
    var account = JSON.parse(localStorage.getItem('account'));
    for (var i = 0; i < account.length; i++) {
      if (id == account[i].id) {
        account.splice(i, 1);
        localStorage.setItem("account", JSON.stringify(account));
        ManagementUser();
        break;
      }
    }
  }



  function ManagementUser() {
    document.getElementById("prinfManagementUser").innerHTML = '';
    var account = JSON.parse(localStorage.getItem('account'));
    for (let i = 0; i < account.length; i++) {
      var prinfManage = `<div class="col-4" style="height: 100px;padding:10px; padding-right:50px;">
      <div class="user_info_admin float-left" style="width: 60%">
        <p class="font-weight-bold" style="font-size: 120%">`+ account[i].username + `</p>
      </div>
      <div class="user_function_admin float-right" style="width: 40%;display: flex;">
      <div class="btn btn-warning mr-1 text-white" onclick="editUserAdmin(`+ account[i].id + `)" style="width: 40%;border-radius: 10px;"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></div>
        <div class="btn btn-danger text-white" onclick="deleteUserAdmin(`+ account[i].id + `)" style="width: 40%;border-radius: 10px;"><i class="fa fa-trash" aria-hidden="true"></i></div>

  
    </div></div>`;
      document.getElementById("prinfManagementUser").innerHTML += prinfManage;
    }
  }
  function onloadAll1() {
    paymentPrinf();
    ManagementFood();
    paymentPrinfDash();
    ManagementFood2();
    commentPrinf();
    ManagementUser();
  }
</script>

</html>